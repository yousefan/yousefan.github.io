(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4dc57269"],{"09f9":function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col col-lg-6 col-md-6 col-sm-12 col-12"},[n("vx-card",[n("div",{staticClass:"flex justify-between",staticStyle:{direction:"ltr"}},[n("div",{staticClass:"ml-2"},[t._v(t._s(t.writingQuestion))]),n("div",{staticStyle:{"border-left":"1px solid #c6c6c6"}},[n("h3",{staticClass:"mr-3 "},[t._v(t._s(t.timeText))])])])])],1)]),n("div",{staticClass:"row justify-content-center mt-8"},[n("div",{staticClass:"col col-lg-6 col-md-6 col-sm-12 col-12"},[n("vx-card",{staticClass:"ltr"},[n("vs-textarea",{staticStyle:{direction:"ltr"},attrs:{height:"500px"},model:{value:t.writingContent,callback:function(i){t.writingContent=i},expression:"writingContent"}}),n("vs-button",{attrs:{id:"finish-writing-btn"},on:{click:t.finishAndSave}},[t._v("Finish and Save writing")])],1)],1)]),n("vs-popup",{attrs:{title:"writing timeout",active:t.alertActive},on:{"update:active":function(i){t.alertActive=i}}},[n("div",{staticClass:"row justify-content-center"},[n("p",[t._v("\n        your writing time has finished\n      ")])]),n("vs-divider"),n("div",{staticClass:"vx-row justify-end"},[n("div",{staticClass:"vx-col flex"},[n("vs-button",{on:{click:function(i){t.alertActive=!1}}},[t._v("Ok, Got it")])],1)])],1)],1)},s=[],o=n("9c9e"),r=n("74f4"),c={mixins:[o["a"]],name:"WritingTest",data:function(){return{writingQuestion:this.$route.params.writingQuestion,writingContent:null,time:24e5,timeText:"40:00",timer:null,alertActive:!1}},mounted:function(){void 0==this.writingQuestion&&this.$router.push({name:"writing-index"}),this.startCountDownTimer()},methods:{startCountDownTimer:function(){var t=this;this.timer=setInterval((function(){var i=Math.floor(t.time%36e5/6e4),n=Math.floor(t.time%6e4/1e3);i=i<10?"0"+i:i,n=n<10?"0"+n:n,t.timeText="".concat(i,":").concat(n),t.time-=1e3,t.time<0&&t.onWritingTimeFinished()}),1e3)},onWritingTimeFinished:function(){clearInterval(this.timer),this.alertActive=!0},finishAndSave:function(){var t=this;this.startLoading("finish-writing-btn"),r["a"].post("/api/english/writings/",{question:this.writingQuestion,answer:this.writingContent},{headers:{Accept:"application/json",Authorization:this.getAccessToken()}}).then((function(i){t.stopLoading("finish-writing-btn"),200===i.status?(t.simpleNotify(t.NOTIFY_SUCCESS_TITLE,"saved successfully, to view results go to library","success"),setTimeout((function(){t.$router.push({name:"writing-index"})}),1e3)):t.simpleNotify(t.NOTIFY_DANGER_TITLE,"something went wrong","danger")}))}},destroyed:function(){clearInterval(this.timer)}},a=c,l=(n("9c0b"),n("2877")),u=Object(l["a"])(a,e,s,!1,null,null,null);i["default"]=u.exports},9496:function(t,i,n){},"9c0b":function(t,i,n){"use strict";n("9496")}}]);
//# sourceMappingURL=chunk-4dc57269.e06635b1.js.map